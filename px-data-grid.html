<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../vaadin-grid/vaadin-grid.html">
<link rel="import" href="../vaadin-grid/vaadin-grid-selection-column.html">
<link rel="import" href="../vaadin-grid/vaadin-grid-sorter.html">
<link rel="import" href="px-data-grid-theme.html">

<dom-module id="px-data-grid">
  <template>
    <vaadin-grid aria-label="Basic Binding Example" items="[[tableData]]" theme="row-stripes" multi-sort>

      <template is="dom-if" if="[[selectable]]" restamp>
        <vaadin-grid-selection-column auto-select>
        </vaadin-grid-selection-column>
      </template>

      <vaadin-grid-column width="60px" flex-grow="0" frozen>
        <template class="header">#</template>
        <template>[[index]]</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">
          <vaadin-grid-sorter path="first">First Name</vaadin-grid-sorter>
        </template>
        <template>[[item.first]]</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">
          <vaadin-grid-sorter path="last">Last Name</vaadin-grid-sorter>
        </template>
        <template>[[item.last]]</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">Email</template>
        <template>[[item.email]]</template>
      </vaadin-grid-column>

    </vaadin-grid>
  </template>
  <script>
    {
      class DataGridElement extends Polymer.Element {
        static get is() {
          return 'px-data-grid';
        }

        static get properties() {
          return {

            /**
            * Data for the table to display.
            *
            * Expected data format is just a JSON array.  Each object in the array represents a row in the table.
            *
            * Each item in an object will be displayed as a separate column, unless px-data-table-columns are
            * defined to limit which columns are displayed.
            * See also includeAllColumns.
            *
            *     Expected format:
            *     [
            *       {
            *        "index": 0,
            *        "name": "Liz Grimes",
            *        "image": "https://s3.amazonaws.com/uifaces/faces/twitter/enda/73.jpg",
            *        "date": "Sun Aug 14 1994 03:27:03 GMT-0700 (PDT)"
            *      },
            *      {
            *        "index": 1,
            *        "name": "Frazier Lara",
            *        "image": "https://s3.amazonaws.com/uifaces/faces/twitter/guillogo/73.jpg",
            *        "date": "Tue May 24 1988 14:10:20 GMT-0700 (PDT)",
            *      }
            *    ]
            */
            tableData: {
              type: Array,
              value: function() {
                return [];
              },
              notify: true
            },

            /**
            * Use the selectable property if one or more rows within the table should be selectable. See also `singleSelect`.
            */
            selectable: {
              type: Boolean,
              value: false
            }

          };
        }
      }
      customElements.define(DataGridElement.is, DataGridElement);

      /**
       * @namespace Predix
       */
      window.Predix = window.Predix || {};
      Predix.DataGridElement = DataGridElement;
    }
  </script>
</dom-module>
